// Code generated by protoc-gen-go-http. DO NOT EDIT.
// versions:
// - protoc-gen-go-http v2.9.2
// - protoc             v6.33.1
// source: api/core/v1/contest_log/contest.proto

package contest_log

import (
	context "context"
	http "github.com/go-kratos/kratos/v2/transport/http"
	binding "github.com/go-kratos/kratos/v2/transport/http/binding"
)

// This is a compile-time assertion to ensure that this generated file
// is compatible with the kratos package it is being compiled against.
var _ = new(context.Context)
var _ = binding.EncodeURL

const _ = http.SupportPackageIsVersion1

const OperationContestGetContestList = "/api.core.v1.contest_log.Contest/GetContestList"
const OperationContestGetContestRanking = "/api.core.v1.contest_log.Contest/GetContestRanking"
const OperationContestGetUserContestHistory = "/api.core.v1.contest_log.Contest/GetUserContestHistory"

type ContestHTTPServer interface {
	// GetContestList 获取竞赛列表
	GetContestList(context.Context, *GetContestListReq) (*GetContestListRes, error)
	// GetContestRanking 获取竞赛排行榜
	GetContestRanking(context.Context, *GetContestRankingReq) (*GetContestRankingRes, error)
	// GetUserContestHistory 获取用户竞赛历史
	GetUserContestHistory(context.Context, *GetUserContestHistoryReq) (*GetUserContestHistoryRes, error)
}

func RegisterContestHTTPServer(s *http.Server, srv ContestHTTPServer) {
	r := s.Route("/")
	r.GET("/v1/core/contest/list", _Contest_GetContestList0_HTTP_Handler(srv))
	r.GET("/v1/core/contest/history", _Contest_GetUserContestHistory0_HTTP_Handler(srv))
	r.GET("/v1/core/contest/ranking", _Contest_GetContestRanking0_HTTP_Handler(srv))
}

func _Contest_GetContestList0_HTTP_Handler(srv ContestHTTPServer) func(ctx http.Context) error {
	return func(ctx http.Context) error {
		var in GetContestListReq
		if err := ctx.BindQuery(&in); err != nil {
			return err
		}
		http.SetOperation(ctx, OperationContestGetContestList)
		h := ctx.Middleware(func(ctx context.Context, req interface{}) (interface{}, error) {
			return srv.GetContestList(ctx, req.(*GetContestListReq))
		})
		out, err := h(ctx, &in)
		if err != nil {
			return err
		}
		reply := out.(*GetContestListRes)
		return ctx.Result(200, reply)
	}
}

func _Contest_GetUserContestHistory0_HTTP_Handler(srv ContestHTTPServer) func(ctx http.Context) error {
	return func(ctx http.Context) error {
		var in GetUserContestHistoryReq
		if err := ctx.BindQuery(&in); err != nil {
			return err
		}
		http.SetOperation(ctx, OperationContestGetUserContestHistory)
		h := ctx.Middleware(func(ctx context.Context, req interface{}) (interface{}, error) {
			return srv.GetUserContestHistory(ctx, req.(*GetUserContestHistoryReq))
		})
		out, err := h(ctx, &in)
		if err != nil {
			return err
		}
		reply := out.(*GetUserContestHistoryRes)
		return ctx.Result(200, reply)
	}
}

func _Contest_GetContestRanking0_HTTP_Handler(srv ContestHTTPServer) func(ctx http.Context) error {
	return func(ctx http.Context) error {
		var in GetContestRankingReq
		if err := ctx.BindQuery(&in); err != nil {
			return err
		}
		http.SetOperation(ctx, OperationContestGetContestRanking)
		h := ctx.Middleware(func(ctx context.Context, req interface{}) (interface{}, error) {
			return srv.GetContestRanking(ctx, req.(*GetContestRankingReq))
		})
		out, err := h(ctx, &in)
		if err != nil {
			return err
		}
		reply := out.(*GetContestRankingRes)
		return ctx.Result(200, reply)
	}
}

type ContestHTTPClient interface {
	// GetContestList 获取竞赛列表
	GetContestList(ctx context.Context, req *GetContestListReq, opts ...http.CallOption) (rsp *GetContestListRes, err error)
	// GetContestRanking 获取竞赛排行榜
	GetContestRanking(ctx context.Context, req *GetContestRankingReq, opts ...http.CallOption) (rsp *GetContestRankingRes, err error)
	// GetUserContestHistory 获取用户竞赛历史
	GetUserContestHistory(ctx context.Context, req *GetUserContestHistoryReq, opts ...http.CallOption) (rsp *GetUserContestHistoryRes, err error)
}

type ContestHTTPClientImpl struct {
	cc *http.Client
}

func NewContestHTTPClient(client *http.Client) ContestHTTPClient {
	return &ContestHTTPClientImpl{client}
}

// GetContestList 获取竞赛列表
func (c *ContestHTTPClientImpl) GetContestList(ctx context.Context, in *GetContestListReq, opts ...http.CallOption) (*GetContestListRes, error) {
	var out GetContestListRes
	pattern := "/v1/core/contest/list"
	path := binding.EncodeURL(pattern, in, true)
	opts = append(opts, http.Operation(OperationContestGetContestList))
	opts = append(opts, http.PathTemplate(pattern))
	err := c.cc.Invoke(ctx, "GET", path, nil, &out, opts...)
	if err != nil {
		return nil, err
	}
	return &out, nil
}

// GetContestRanking 获取竞赛排行榜
func (c *ContestHTTPClientImpl) GetContestRanking(ctx context.Context, in *GetContestRankingReq, opts ...http.CallOption) (*GetContestRankingRes, error) {
	var out GetContestRankingRes
	pattern := "/v1/core/contest/ranking"
	path := binding.EncodeURL(pattern, in, true)
	opts = append(opts, http.Operation(OperationContestGetContestRanking))
	opts = append(opts, http.PathTemplate(pattern))
	err := c.cc.Invoke(ctx, "GET", path, nil, &out, opts...)
	if err != nil {
		return nil, err
	}
	return &out, nil
}

// GetUserContestHistory 获取用户竞赛历史
func (c *ContestHTTPClientImpl) GetUserContestHistory(ctx context.Context, in *GetUserContestHistoryReq, opts ...http.CallOption) (*GetUserContestHistoryRes, error) {
	var out GetUserContestHistoryRes
	pattern := "/v1/core/contest/history"
	path := binding.EncodeURL(pattern, in, true)
	opts = append(opts, http.Operation(OperationContestGetUserContestHistory))
	opts = append(opts, http.PathTemplate(pattern))
	err := c.cc.Invoke(ctx, "GET", path, nil, &out, opts...)
	if err != nil {
		return nil, err
	}
	return &out, nil
}
